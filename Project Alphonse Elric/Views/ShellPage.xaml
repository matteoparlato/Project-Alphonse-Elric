<Page x:Class="Project_Alphonse_Elric.Views.ShellPage" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="using:Project_Alphonse_Elric.Views" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:ui="using:Microsoft.Advertising.WinRT.UI" IsTextScaleFactorEnabled="False" Loaded="Page_Loaded" mc:Ignorable="d">

    <Page.Resources>
        <DataTemplate x:Key="NavigationMenuItemDataTemplate" x:DataType="local:ShellNavigationItem">
            <Grid Width="320" MinHeight="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="48" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Rectangle Width="6" Height="24" HorizontalAlignment="Left" VerticalAlignment="Center" Fill="{ThemeResource SystemControlForegroundAccentBrush}" Visibility="{x:Bind SelectedVis, Mode=OneWay}" />
                <FontIcon Margin="16,12" VerticalAlignment="Center" FontSize="16" Foreground="{x:Bind SelectedForeground, Mode=OneWay}" Glyph="{x:Bind SymbolAsChar}" />
                <TextBlock Grid.Column="1" Margin="0,9,0,11" VerticalAlignment="Center" Foreground="{x:Bind SelectedForeground, Mode=OneWay}" Style="{StaticResource BodyTextBlockStyle}" Text="{x:Bind Label}" TextTrimming="None" />
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <Storyboard>
                                <PointerUpThemeAnimation Storyboard.TargetName="ContentPresenter" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="PointerOver">
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="BorderBackground" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground" Storyboard.TargetProperty="Fill">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightListLowBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <PointerUpThemeAnimation Storyboard.TargetName="ContentPresenter" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Pressed">
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="BorderBackground" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground" Storyboard.TargetProperty="Fill">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightListMediumBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <PointerDownThemeAnimation TargetName="ContentPresenter" />
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="DisabledStates">
                        <VisualState x:Name="Enabled" />
                        <VisualState x:Name="Disabled">
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="ContentBorder" Storyboard.TargetProperty="Opacity" To="{ThemeResource ListViewItemDisabledThemeOpacity}" Duration="0" />
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </Grid>
        </DataTemplate>
        <Style x:Key="LegacyHamburgerMenuStyle" TargetType="controls:HamburgerMenu">
            <Setter Property="HamburgerMenuTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <FontIcon FontFamily="Segoe MDL2 Assets" FontSize="16" Glyph="&#xE700;" />
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="controls:HamburgerMenu">
                        <Grid>
                            <SplitView x:Name="MainSplitView" CompactPaneLength="{TemplateBinding CompactPaneLength}" DisplayMode="{TemplateBinding DisplayMode}" IsPaneOpen="{Binding IsPaneOpen, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" IsTabStop="False" OpenPaneLength="{TemplateBinding OpenPaneLength}" PaneBackground="{TemplateBinding PaneBackground}" PanePlacement="{TemplateBinding PanePlacement}">
                                <SplitView.Pane>
                                    <Grid x:Name="PaneGrid" Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}" FlowDirection="LeftToRight">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Height="{TemplateBinding HamburgerHeight}" Margin="0,0,0,0" />
                                        <ListView x:Name="ButtonsListView" Grid.Row="1" Width="{TemplateBinding OpenPaneLength}" IsItemClickEnabled="True" ItemTemplate="{TemplateBinding ItemTemplate}" ItemTemplateSelector="{TemplateBinding ItemTemplateSelector}" ItemsSource="{TemplateBinding ItemsSource}" ScrollViewer.VerticalScrollBarVisibility="Auto" SelectedIndex="{Binding SelectedIndex, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectedItem="{Binding SelectedItem, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectionMode="None" TabIndex="1">
                                            <ListView.ItemContainerStyle>
                                                <Style TargetType="ListViewItem">
                                                    <Setter Property="Padding" Value="0" />
                                                </Style>
                                            </ListView.ItemContainerStyle>
                                        </ListView>
                                        <ListView x:Name="OptionsListView" Grid.Row="2" Width="{TemplateBinding OpenPaneLength}" Margin="0,20,0,0" VerticalAlignment="Bottom" IsItemClickEnabled="True" ItemTemplate="{TemplateBinding OptionsItemTemplate}" ItemTemplateSelector="{TemplateBinding ItemTemplateSelector}" ItemsSource="{TemplateBinding OptionsItemsSource}" ScrollViewer.VerticalScrollBarVisibility="Disabled" SelectedIndex="{Binding SelectedOptionsIndex, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectedItem="{Binding SelectedOptionsItem, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectionMode="None" TabIndex="2">
                                            <ListView.ItemContainerStyle>
                                                <Style TargetType="ListViewItem">
                                                    <Setter Property="Padding" Value="0" />
                                                </Style>
                                            </ListView.ItemContainerStyle>
                                        </ListView>
                                    </Grid>
                                </SplitView.Pane>
                                <ContentPresenter x:Name="ContentPart" Content="{TemplateBinding Content}" />
                            </SplitView>
                            <Button x:Name="HamburgerButton" Width="{TemplateBinding HamburgerWidth}" Height="{TemplateBinding HamburgerHeight}" Margin="0" VerticalAlignment="Top" Background="Transparent" BorderThickness="0" TabIndex="0" Visibility="{TemplateBinding HamburgerVisibility}">
                                <ContentControl ContentTemplate="{TemplateBinding HamburgerMenuTemplate}" Foreground="{TemplateBinding Foreground}" IsTabStop="False" />
                            </Button>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="AcrylicWideHamburgerMenuStyle" BasedOn="{StaticResource LegacyHamburgerMenuStyle}" TargetType="controls:HamburgerMenu">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="controls:HamburgerMenu">
                        <Grid>
                            <SplitView x:Name="MainSplitView" CompactPaneLength="{TemplateBinding CompactPaneLength}" DisplayMode="{TemplateBinding DisplayMode}" IsPaneOpen="{Binding IsPaneOpen, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" IsTabStop="False" OpenPaneLength="{TemplateBinding OpenPaneLength}" PaneBackground="{TemplateBinding PaneBackground}" PanePlacement="{TemplateBinding PanePlacement}">
                                <SplitView.Pane>
                                    <Grid x:Name="PaneGrid" Background="{ThemeResource SystemControlChromeMediumLowAcrylicElementMediumBrush}" FlowDirection="LeftToRight">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Height="{TemplateBinding HamburgerHeight}" Margin="0,0,0,0" />
                                        <ListView x:Name="ButtonsListView" Grid.Row="1" Width="{TemplateBinding OpenPaneLength}" Margin="0,32,0,0" IsItemClickEnabled="True" ItemTemplate="{TemplateBinding ItemTemplate}" ItemTemplateSelector="{TemplateBinding ItemTemplateSelector}" ItemsSource="{TemplateBinding ItemsSource}" ScrollViewer.VerticalScrollBarVisibility="Auto" SelectedIndex="{Binding SelectedIndex, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectedItem="{Binding SelectedItem, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectionMode="None" TabIndex="1">
                                            <ListView.ItemContainerStyle>
                                                <Style TargetType="ListViewItem">
                                                    <Setter Property="Padding" Value="0" />
                                                </Style>
                                            </ListView.ItemContainerStyle>
                                        </ListView>
                                        <ListView x:Name="OptionsListView" Grid.Row="2" Width="{TemplateBinding OpenPaneLength}" Margin="0,20,0,0" VerticalAlignment="Bottom" IsItemClickEnabled="True" ItemTemplate="{TemplateBinding OptionsItemTemplate}" ItemTemplateSelector="{TemplateBinding ItemTemplateSelector}" ItemsSource="{TemplateBinding OptionsItemsSource}" ScrollViewer.VerticalScrollBarVisibility="Disabled" SelectedIndex="{Binding SelectedOptionsIndex, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectedItem="{Binding SelectedOptionsItem, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" SelectionMode="None" TabIndex="2">
                                            <ListView.ItemContainerStyle>
                                                <Style TargetType="ListViewItem">
                                                    <Setter Property="Padding" Value="0" />
                                                </Style>
                                            </ListView.ItemContainerStyle>
                                        </ListView>
                                    </Grid>
                                </SplitView.Pane>
                                <ContentPresenter x:Name="ContentPart" Content="{TemplateBinding Content}" />
                            </SplitView>
                            <Button x:Name="HamburgerButton" Width="{TemplateBinding HamburgerWidth}" Height="{TemplateBinding HamburgerHeight}" Margin="0,32,0,0" VerticalAlignment="Top" Background="Transparent" BorderThickness="1" Style="{StaticResource ButtonRevealStyle}" TabIndex="0" Visibility="{TemplateBinding HamburgerVisibility}">
                                <ContentControl ContentTemplate="{TemplateBinding HamburgerMenuTemplate}" Foreground="{TemplateBinding Foreground}" IsTabStop="False" />
                            </Button>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid x:Name="CollectorGrid" Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>

        <Grid x:Name="ShellGrid" Grid.Row="0" Canvas.ZIndex="0">
            <Frame x:Name="ShellFrame" Margin="0" Canvas.ZIndex="1" />

            <Grid x:Name="DropLinkGrid" Margin="0,48,0,0" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" />

            <ui:AdControl Width="320" Height="50" HorizontalAlignment="Center" VerticalAlignment="Bottom" AdUnitId="1100030462" ApplicationId="854121b0-1166-4931-a023-14fcbb75c9b1" Canvas.ZIndex="1" IsAutoRefreshEnabled="True" />

            <controls:DropShadowPanel x:Name="DropShadowHeader" Margin="0,48,0,0" HorizontalContentAlignment="Stretch" BlurRadius="10" OffsetX="0" OffsetY="-2" ShadowOpacity="0.5" Color="{ThemeResource TitleShadow}">
                <Grid Height="1" HorizontalAlignment="Stretch" VerticalAlignment="Top" />
            </controls:DropShadowPanel>
        </Grid>

        <controls:HamburgerMenu x:Name="NavigationMenu" Grid.Row="0" Canvas.ZIndex="1" DisplayMode="{x:Bind DisplayMode, Mode=OneWay}" IsPaneOpen="{x:Bind IsPaneOpen, Mode=TwoWay}" ItemClick="ItemClicked" ItemTemplate="{StaticResource NavigationMenuItemDataTemplate}" ItemsSource="{x:Bind PrimaryItems}" OptionsItemClick="ItemClicked" OptionsItemTemplate="{StaticResource NavigationMenuItemDataTemplate}" OptionsItemsSource="{x:Bind SecondaryItems}" SelectedItem="{x:Bind Selected, Mode=OneWay}" Style="{StaticResource LegacyHamburgerMenuStyle}" />

        <!--#region Login-->
        <controls:Loading x:Name="LoadingControl" Grid.Row="0" Grid.RowSpan="2" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" Canvas.ZIndex="2" IsLoading="True">
            <controls:DropShadowPanel x:Name="DropShadowContent" BlurRadius="10" OffsetX="0" OffsetY="4" ShadowOpacity="0.5" Color="#545454">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="4*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="4*" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <Grid x:Name="LoginGrid" Grid.Row="1" Grid.Column="1" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <ProgressBar x:Name="StatusProgressBar" Grid.Row="0" VerticalAlignment="Top" IsIndeterminate="True" Visibility="Collapsed" />

                        <StackPanel x:Name="LoginStackPanel" Grid.Row="1" Padding="35" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Viewbox Width="128" Height="128">
                                <Path Data="M 21.0625 7 C 20.3984 7.00781 19.5938 7.03516 18.8125 7.09375 C 18.0313 7.15234 17.2773 7.25781 16.625 7.4375 C 16.2969 7.52734 15.9922 7.60547 15.6875 7.8125 C 15.6094 7.86328 15.5156 7.92188 15.4375 8 L 2 8 L 2 24 L 24 24 L 24 22.9688 C 24.3086 23 24.6367 23 25 23 L 30 23 L 30 21 L 25 21 C 24.25 21 23.9883 20.9766 23.6563 20.8438 C 23.7539 20.8828 23.2422 20.6328 22.6875 20.3438 C 22.1328 20.0547 21.3945 19.6836 20.6875 19.3125 C 19.9805 18.9414 19.2813 18.5742 18.7188 18.2813 C 18.1563 17.9883 17.8789 17.8164 17.5625 17.6875 C 17.1016 17.5 16.875 17.0234 17.0625 16.5625 C 17.25 16.1016 17.7578 15.875 18.2188 16.0625 C 18.4609 16.1602 23.625 18.3125 23.625 18.3125 L 25 18.875 L 25 17.0313 L 24 10.8438 L 23.875 10.2188 L 23.2813 10.0313 L 19.875 9.0625 C 20.9297 9.02344 22.082 9.00391 22.4688 9 C 23.4492 8.99609 24.0781 9.24609 24.5625 9.625 C 25.0469 10.0039 25.3984 10.5586 25.6875 11.125 C 26.0391 11.8125 26.4805 12.9375 27.0938 13.9375 C 27.4023 14.4375 27.7539 14.918 28.2188 15.3125 C 28.6836 15.707 29.3008 16 30 16 L 30 14 C 29.8594 14 29.7148 13.9648 29.5 13.7813 C 29.2852 13.5977 29.0547 13.2695 28.8125 12.875 C 28.3281 12.0859 27.8945 11.0508 27.4688 10.2188 C 27.1094 9.51563 26.5938 8.69922 25.7813 8.0625 C 24.9688 7.42578 23.8477 6.99219 22.4688 7 C 22.2539 7 21.7266 6.99219 21.0625 7 Z M 4 10 L 15.8438 10 L 22.0938 11.7813 L 22.75 15.7813 C 21.2539 15.1602 19.2656 14.3398 18.9688 14.2188 C 17.5039 13.6289 15.8086 14.3477 15.2188 15.8125 C 14.6289 17.2773 15.3477 18.9727 16.8125 19.5625 C 16.7188 19.5273 17.2578 19.7734 17.8125 20.0625 C 18.3672 20.3516 19.0742 20.7227 19.7813 21.0938 C 20.4023 21.418 20.9805 21.7305 21.5 22 L 4 22 Z M 10 12 C 8.35547 12 7 13.3555 7 15 C 7 15.6797 7.23828 16.3086 7.625 16.8125 C 6.65234 17.543 6 18.6992 6 20 L 8 20 C 8 18.8828 8.88281 18 10 18 C 11.1172 18 12 18.8828 12 20 L 14 20 C 14 18.6992 13.3477 17.543 12.375 16.8125 C 12.7617 16.3086 13 15.6797 13 15 C 13 13.3555 11.6445 12 10 12 Z M 10 14 C 10.5625 14 11 14.4375 11 15 C 11 15.5625 10.5625 16 10 16 C 9.4375 16 9 15.5625 9 15 C 9 14.4375 9.4375 14 10 14 Z" Fill="{ThemeResource SystemControlForegroundAccentBrush}" />
                            </Viewbox>

                            <TextBlock Margin="0,0,0,18" Style="{ThemeResource SubheaderTextBlockStyle}" Text="Benvenuto in iliad" TextAlignment="Center" TextWrapping="Wrap" />
                            <TextBlock Opacity="0.6" Style="{ThemeResource TitleTextBlockStyle}" Text="Inserisci le credenziali del tuo account" TextAlignment="Center" TextWrapping="Wrap" />

                            <StackPanel Margin="0,18,0,0">
                                <TextBox x:Name="UsernameTextBox" IsSpellCheckEnabled="False" IsTextPredictionEnabled="False" PlaceholderText="Nome utente" TextChanged="TextBox_TextChanged" />
                                <PasswordBox x:Name="PasswordPasswordBox" Margin="0,5,0,0" PasswordChanged="PasswordBox_PasswordChanged" PlaceholderText="Password" />
                                <Button x:Name="LoginButton" Margin="0,8,0,0" HorizontalAlignment="Center" Click="Button_Click" Content="Accedi" IsEnabled="False" />
                            </StackPanel>

                            <StackPanel x:Name="ErrorStackPanel" Visibility="Collapsed">
                                <TextBlock x:Name="ErrorTextBlock" Margin="0,18,0,0" Foreground="{StaticResource MessageHighlight}" Style="{ThemeResource BodyTextBlockStyle}" Text="Eventuali messaggi d'errore verranno visualizzati qui." TextAlignment="Center" TextWrapping="Wrap" />
                                <HyperlinkButton Margin="0,18,0,0" HorizontalAlignment="Center" Click="HyperlinkButton_Click" Content="Problemi ad accedere al tuo account iliad?" />
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Grid>
            </controls:DropShadowPanel>
        </controls:Loading>
        <!--#endregion-->

        <controls:InAppNotification x:Name="InAppNotification" Grid.Row="0" HorizontalAlignment="Stretch" Canvas.ZIndex="3" VerticalOffset="0" />

        <Grid x:Name="WideNavigation" Grid.Row="1" Background="{ThemeResource SystemControlForegroundAccentBrush}" Canvas.ZIndex="1" RequestedTheme="Dark">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <AppBarButton x:Name="ConsumesAppBarButton" Grid.Column="0" Width="128" HorizontalAlignment="Stretch" Click="AppBarButton_Click" Icon="Home" Label="I tuoi consumi" />
            <AppBarButton x:Name="OptionsAppBarButton" Grid.Column="1" Width="128" HorizontalAlignment="Stretch" Click="AppBarButton_Click_1" Icon="Repair" Label="Opzioni e servizi" />
            <AppBarButton x:Name="VoicemailAppBarButton" Grid.Column="2" Width="128" HorizontalAlignment="Stretch" Click="AppBarButton_Click_2" Icon="Memo" Label="Segreteria telefonica" />
            <AppBarButton x:Name="RechargeAppBarButton" Grid.Column="3" Width="128" HorizontalAlignment="Stretch" Click="AppBarButton_Click_3" Icon="Refresh" Label="Ricarica telefonica" />
            <AppBarButton x:Name="SettingsAppBarButton" Grid.Column="4" Width="128" HorizontalAlignment="Stretch" Click="AppBarButton_Click_4" Icon="Setting" Label="Impostazioni" />
        </Grid>

        <!--#region VisualStateManager-->
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="WindowStates" CurrentStateChanged="WindowStates_CurrentStateChanged">
                <VisualState x:Name="PanoramicState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1024" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="DropShadowHeader.Margin" Value="0,104,0,0" />
                        <Setter Target="DropLinkGrid.Margin" Value="0,104,0,0" />
                        <Setter Target="WideNavigation.Visibility" Value="Visible" />
                        <Setter Target="NavigationMenu.Visibility" Value="Collapsed" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="WideState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="640" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="DropShadowHeader.Margin" Value="0,104,0,0" />
                        <Setter Target="DropLinkGrid.Margin" Value="0,104,0,0" />
                        <Setter Target="WideNavigation.Visibility" Value="Visible" />
                        <Setter Target="NavigationMenu.Visibility" Value="Collapsed" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="NarrowState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="LoginGrid.Margin" Value="0" />
                        <Setter Target="LoginGrid.(Grid.Row)" Value="0" />
                        <Setter Target="LoginGrid.(Grid.Column)" Value="0" />
                        <Setter Target="LoginGrid.(Grid.RowSpan)" Value="3" />
                        <Setter Target="LoginGrid.(Grid.ColumnSpan)" Value="3" />
                        <Setter Target="LoginStackPanel.Padding" Value="16" />
                        <Setter Target="WideNavigation.Visibility" Value="Collapsed" />
                        <Setter Target="NavigationMenu.Visibility" Value="Visible" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>
</Page>